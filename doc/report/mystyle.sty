\ProvidesPackage{mystyle}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{amsmath,amsthm,amsfonts,amssymb}
\usepackage{verbatim,listings}
\usepackage{dsfont}
\usepackage{color,geometry,fancyhdr,lastpage,fancyvrb}
\usepackage{here,caption,subfig}
\usepackage[colorlinks=true,urlcolor=blue]{hyperref}
\usepackage{tikz}
\usepackage{bm}
\usepackage{multirow,array}
\usepackage{todonotes}
\usepackage{empheq}
\usepackage{nth}

\newtheorem{mydef}{Definition}
\newtheorem{thm}{Theorem}
\newtheorem{pb}{Problem}
\newtheorem{rk}{Remark}
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\Z}{{\mathbb{Z}}}
\newcommand{\R}{{\mathbb{R}}}
\newcommand{\C}{{\mathbb{C}}}
\newcommand{\LL}{{\mathbb{L}}}
\newcommand{\HH}{{\mathbb{H}}}
\newcommand{\DD}{{\mathbb{D}}}
\newcommand{\ZZ}{{\bm{\mathcal{Z}}}}
\newcommand{\TT}{{\bm{\mathcal{T}}}}
\newcommand{\NN}{{\bm{\mathcal{N}}}}
\newcommand{\DDD}{{\bm{\mathcal{D}}}}
\newcommand{\LLL}{{\bm{\mathcal{L}}}}
\newcommand{\grad}{{\nabla}}
\newcommand{\laplace}{{\Delta}}
\newcommand{\curl}{{\nabla\times}}
\newcommand{\curll}{{\nabla^2\times}}
\renewcommand{\div}{{\nabla\cdot}}
\newcommand{\restr}[1]{{\big\rvert_{#1}}}
\newcommand{\mbf}[1]{{\mathbf{#1}}}

\newcommand{\taille}{0.8}
\newcommand{\taillem}{0.9}
\newcommand{\tailleg}{1.1}

\graphicspath{{Images/}}

% listings
\lstset{
language=C++,
frame=single,
keywordstyle=\color{magenta}\bfseries,
commentstyle=\color{green}\itshape,
stringstyle=\color{blue},
showstringspaces=false,
breaklines=true,
breakatwhitespace=true,
tabsize=4,
rangeprefix={\/\/\ [},
rangesuffix={]},
includerangemarker=false}

% en tete et pied de page
\geometry{hmargin=2.5cm,vmargin=2.5cm}
\pagestyle{fancy}
\fancyhead[L]{\leftmark}
\fancyhead[R]{}
\renewcommand\footrulewidth{1pt}
\lfoot{Romain Hild\\Christophe Prud'homme}
\cfoot{\thepage/\pageref{LastPage}}
\rfoot{Philippe Gilotte\\Benjamin Surowiec}

% remove whitespaces before lstinputlisting
\newlength{\rawgobble}
\newlength{\gobble}
\newlength{\gobblea}
% The width of a single space. basicstyle from lstset should be used
\sbox0{\Huge\ttfamily \ }
% Remove a single space
\settowidth{\rawgobble}{\Huge\ttfamily \ }
\setlength{\rawgobble}{-\rawgobble}

\makeatletter
\def\sepstar#1*#2\relax{%
    \def\sepstarone{#1}%
    \def\sepstartwo{#2}%
}
\lst@Key{firstlineandnumber}\relax{\def\lst@firstline{#1\relax}\def\lst@firstnumber{#1\relax}}
\lst@Key{widthgobble}{0*0}{%
    % Reindent a bit by multiplying with 0.9, then multiply by tabsize and number of indentation levels
    \sepstar #1\relax
    \setlength{\gobble}{0.9\rawgobble}%
    \setlength{\gobble}{\sepstarone\gobble}%
    \setlength{\gobble}{\sepstartwo\gobble}%
    \setlength{\gobblea}{\gobble}%
    \addtolength{\gobblea}{10pt}%
    \def\lst@xleftmargin{\gobble}%
    \def\lst@framexleftmargin{\gobble}%
    \def\lst@numbersep{\gobblea}%
}
\makeatother


% italic quotation
\newenvironment{italicquotes}
{\begin{quotation}\itshape}
{\end{quotation}}
